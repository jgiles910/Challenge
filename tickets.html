<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tickets</title>
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  
    <style>

        *{
            color: rgb(255, 253, 253);
        }
        #form{
            
            font-size: 30px;
            padding: 70px;
            border-radius: 10px;
            background-color: rgb(99, 99, 99);
            font-family: 'Courier New', Courier, monospace;
            border: rgb(255, 255, 255) solid 3px;
        }
        #calculateFinalPrize{
            margin-top: 20px;
            font-size: 20px;
        }
        #visit{
            font-size: 20px;
        }
        form>h1{
            font-weight: 200;
            letter-spacing: 20px;
            padding: 20px 10px 20px 10px;
            color: rgb(239, 239, 239);
            font-size: 30px;
            text-align: center;
            background-color: rgb(105, 105, 105);
            border-radius: 0px 0px 10px 10px;
            border-top: 1px solid rgb(255, 255, 255);
        }
        select{
            font-size: 20px;
        }
        input{
            padding: 5px;
            border-radius: 7px;
        }
        #calculateFinalPrize{
            align-self: center;
            width: 120px;
        }
        #error{
            color: red;
        }
        .ulform{
            display: flex;
            flex-direction: column;
        }
        input{
            
            color: black;
            font-size: 20px;
        }
        option{
            color: black;
        }
        
        .formulario{
            top: 0px;
            letter-spacing: 3px;
            display: flex;
            flex-direction: row;
            width: 100%;
            height: 800px;
           
            background-repeat: no-repeat;
            opacity: 80%;
            background-size: cover;
            align-items: center;
            justify-content: space-around;
        }

        .aside{
            
            font-size: 20px;
            display: flex;
            justify-content: flex-start;
            width: 40%;
            align-items: center;
            height: 200px;
        }
     #summary{
        border: solid white 2px;
            font-size: 30px;
        border-radius: 10px;
        width: 100%;
        height: 400px;
        background-color: rgb(105, 105, 105);
        text-align: center; 
        align-content: center;
        line-height: 50px;
        }

    </style>
</head>


<body>
    <header>
       <div class="img">
        <h1>
           <a href="home.html">The Rothko Museum</a> 
        </h1>
        </div>
    </header>
    <nav>
      <ul>
      <li><a href="home.html">Home</a></li>
      <li><a href="exhibition.html">Exhibition</a></li>
      
      <li id="ticketLi"><a  id="ticket" href="tickets.html">Get your ticket!</a></li> 
      </ul>
        
    </nav><br>

<div class="formulario">
   
        <form id="form">
            <h1>Ticket purchase</h1>
            <ul class="ulform">
                <li>
                    <label for="fname">Full Name:</label>
                    <input type="text" id="fname">
                </li><br>

                <li>
                    <label for="email">Email:</label>
                    <input type="email" id="email">
                </li><br>

                <li>
                    <label for="visit">Visit day:</label>
                    <input type="date" id="visit">
                </li><br>

                <li>
                    Select the time slot you prefer:
                    <select id="select" style="color: black;">
                        <option value="" selected>Select slot</option>
                        <option value="9:00">9:00-10:30</option>
                        <option value="10:30">10:30-12:00</option>
                        <option value="12:00">12:00-13:30</option>
                        <option value="13:30">13:30-15:00</option>
                        <option value="15:00">15:00-16:30</option>
                        <option value="16:30">16:30-18:00</option>
                        <option value="18:00">18:00-19:30</option>
                        <option value="19:30">19:30-21:00</option>
                    </select>
                </li><br>

                <li>Select the ticket type you want to buy:</li>
                <ul class="ulform">
                    <li>Adult (12€) <input type="radio" name="ticketType" value="adult"></li>
                    <li>Student (8€) <input type="radio" name="ticketType" value="student"></li>
                    <li>Child (5€) <input type="radio" name="ticketType" value="child"></li>
                </ul><br>

                <li>
                    <label for="quantity">Enter the ticket quantity you want:</label>
                    <input type="number" id="quantity" min="1">
                </li><br>

                <li>
                    Would you like a guided visit? 
                    <input type="checkbox" id="checkbox">
                </li><br>

                <li>
                    <label for="discount">Discount code:</label>
                    <input type="text" id="discount">
                </li>

                <br>
                <input type="button" id="calculateFinalPrize" value="Calculate">
            </ul>

            </form>
            <div class="aside">
            <p id="error"></p>
            <p id="summary"></p>
            </div>
</div>


<footer>
        
        <div class="img">
            <h2>You can also find us right here!</h2>
          <ul>
            <li>Youtube</li>
            <li>Instagram</li>
            <li>Tumblr</li>
            <li>Twitter</li>
          </ul>
          </div>
      </footer> 
        <script>

    document.getElementById("calculateFinalPrize").addEventListener("click", function() {
      
    const name = document.getElementById("fname").value.trim();
    const email = document.getElementById("email").value.trim();
    const visit = document.getElementById("visit").value;
    const tslot = document.getElementById("select").value;
    const quantity = parseInt(document.getElementById("quantity").value);
    const guided = document.getElementById("checkbox").checked;
    const discount = document.getElementById("discount").value.trim();
    const type = document.querySelector("input[name='ticketType']:checked");

    const error = document.getElementById("error");
    const summary = document.getElementById("summary");
    error.textContent = "";
    summary.textContent = "";

    if(!name || !email || !visit || !tslot || !quantity || !type){
        error.textContent = "You must complete all mandatory fields.";
        return;
    }

    let price = 0;
    if(type.value === "adult"){
         price = 12;
    }
    if(type.value === "student"){
        price = 8;
    }
    if(type.value === "child"){ 
        price = 5;
    }

    let total = price * quantity;

    if(guided){ 
        total += 5;
    }
    if(discount === "MUSEUM10"){
        total *= 0.9;
    }
    summary.innerHTML = `
        <strong>Summary:</strong><br>
        Name: ${name}<br>
        Tickets: ${quantity} (${type.value})<br>
        Slot: ${tslot}<br>
        Guided visit: ${guided ? "Yes" : "No"}<br>
        Total price: ${total.toFixed(2)}€
    `;
});

</script>
</body>
</html>